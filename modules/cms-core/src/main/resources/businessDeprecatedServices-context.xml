<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

  <bean id="adminService" class="com.enonic.cms.core.service.AdminServiceImpl">
    <property name="adminEngine" ref="adminEngine"/>
  </bean>

  <bean id="presentationService" class="com.enonic.cms.core.service.PresentationServiceImpl">
    <property name="presentationEngine" ref="presentationEngine"/>
  </bean>

  <bean id="abstractBaseEngine" abstract="true" class="com.enonic.vertical.engine.BaseEngine">
    <property name="dataSourceService" ref="dataSourceService"/>
    <property name="connectionFactory" ref="connectionFactory"/>
    <property name="datasourceExecutorFactory" ref="datasourceExecutorFactory"/>
  </bean>

  <bean id="presentationEngine" class="com.enonic.vertical.engine.PresentationEngine" parent="abstractBaseEngine">
    <property name="binaryDataHandler" ref="binaryDataHandler"/>
    <property name="commonHandler" ref="commonHandler"/>
    <property name="menuHandler" ref="menuHandler"/>
    <property name="userHandler" ref="userHandler"/>
  </bean>

  <bean id="adminEngine" class="com.enonic.vertical.engine.AdminEngine" parent="abstractBaseEngine">
    <property name="commonHandler" ref="commonHandler"/>
    <property name="systemHandler" ref="systemHandler"/>
  </bean>

</beans>