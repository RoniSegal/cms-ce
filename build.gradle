
allprojects {
	apply plugin: 'java-base'
	
    group = "com.enonic.cms"
    buildNumber = new Date().format("yyyyMMdd.HHmmss")
}

def gradleDir = "$rootDir/gradle"
apply from: "$gradleDir/idea.gradle"
apply from: "$gradleDir/repo.gradle"
apply from: "$gradleDir/wrapper.gradle"

versions = [
 	junit: '4.8.2',
 	servlet : '2.5',
 	spring: '3.0.5.RELEASE',
 	hibernate: '3.5.6-Final',
 	slf4j: '1.6.1',
  	commons_cli: '1.0',
    jackrabbit: '2.2.4',
    saxon: '9.1.0.8'
]

def javaProjects() {
    [project(':cms-api'), project(':cms-core'), project(':cms-webapp'), project(':cms-admin')]
}

def publishedProjects() {
    [project(':cms-api'), project(':cms-webapp'), project(':cms-distro')]
}

configure(javaProjects()) {
    apply from: "$gradleDir/java.gradle"
}

configure(publishedProjects()) {
    apply from: "$gradleDir/publish.gradle"
}
